---
title: "Meet the toolkit <br> 🛠"
author: ""
output:
  xaringan::moon_reader:
    css: "../slides.css"
    logo: "../dsbox-logo.png"
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r packages, echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
```

```{r setup, include=FALSE}
# R options
options(
  htmltools.dir.version = FALSE, # for blogdown
  show.signif.stars = FALSE,     # for regression output
  warn = 1
  )
# figure height, width, dpi
knitr::opts_chunk$set(fig.height = 2.5, fig.width = 5, dpi = 300) 
# fontawesome
htmltools::tagList(rmarkdown::html_dependency_font_awesome())
# magick
dev.off <- function(){
  invisible(grDevices::dev.off())
}
# ggplot2 theme minimal
ggplot2::theme_set(ggplot2::theme_minimal())
```

class: center, middle

# Course structure and policies

---

## Class meetings

- Interactive
- Some lectures, lots of learn-by-doing
- Bring your laptop to class every day

---

## Diversity & Inclusiveness:

.midi[
**Intent:** Students from all diverse backgrounds and perspectives be well-served by this course, that students' learning needs be addressed both in and out of class, and that the diversity that the students bring to this class be viewed as a resource, strength and benefit. It is my intent to present materials and activities that are respectful of diversity: gender identity, sexuality, disability, age, socioeconomic status, ethnicity, race, nationality, religion, and culture. Let me know ways to improve the effectiveness of the course for you personally, or for other students or student groups.
]

--

- If you have a name and/or set of pronouns that differ from those that appear in your official Duke records, please let me know.
- If you feel your performance is being impacted by your experiences outside of class, please don't hesitate to come and talk with me. If you prefer to speak with someone outside of the course, your academic dean is an excellent resource. 
- I (like many people) am still in the process of learning about diverse perspectives/identities. If something was said in class (by anyone) that made you feel uncomfortable, please talk to me about it.

---

## How to get help

- Course content, logistics, etc. discussion on course Slack.
- Often it's a lot more pleasant an experience to get your questions answered in person. Make use of the teaching team's office hours, we're here to help!
- For personal and grade related questions, use email.

---

## Tips for asking questions

- First search existing discussion for answers. If the question has already been answered, you're done! If it has already been asked but you're not satisfied with the answer, add to the thread. 
- Give your question context from course concepts not couse assignments.
    - Good context: "I have a question on filtering"
    - Bad context: "I have a question on HW 1 question 4"
- Be precise in your description:
    - Good description: "I am getting the following error and I'm not sure how to resolve it - `Error: could not find function "ggplot"`"
    - Bad description: "R giving errors, help me! Aaaarrrrrgh!” 
- You can edit a question after posting it.

---

## Tips for asking questions

- Format your questions nicely using markdown and code formatting.
- Where appropriate, provide links to specific files, or even lines within them, in the body of your issue. This will help your helper understand your question. Note that only the teaching team will have access to private repos.
- (Optional) Tag someone or some group of people. Start by typing the @ symbol and Slack will generate some suggestions. 
    
---

## Academic integrity

- Only work that is clearly assigned as team work can be completed collaboratively.
- Use of disallowed materials during the take home exam will not be tolerated.

---

## Sharing/reusing code

- I am well aware that a huge volume of code is available on the web to solve any number of problems.
- Unless I explicitly tell you not to use something the course's policy is that you may make use of any online resources (e.g. StackOverflow) but you must explicitly cite where you obtained any code you directly use (or use as inspiration). 
- Any recycled code that is discovered and is not explicitly cited will be treated as plagiarism. 
- On individual assignments you may not directly share code with another student in this class, and on team assignments you may not directly share code with another team in this class. 
- Except for the take home exams, you are welcome to discuss the problems together and ask for advice, but you may not send or make use of code from another team.
- On the take home exams all communication with classmates is explicitly forbidden.

---

## Course components:

- Teams: 3-4 person teams, based on survey and pretest results, consistent throughout the semester
- Application exercises: Usually start in class and finish in teams by the next class period, check/no check
- Homework: Individual, lowest score dropped
- Lab: Team, lowest score dropped
- Exams: Individual, two take home midterms
- Final project: Team, presentations during scheduled final exam time (last day of finals!), you must participate in the project and be in class to present to pass this class
- Self paced tutorials: Individual, check/no check

---

## Grading

- Weights of each component are given in the syllabus.
- Class attendance is a firm expectation; frequent absences or tardiness 
will be considered a legitimate cause for grade reduction.
- Exact ranges for letter grades will be curved and cutoffs will be 
determined after the final exam.
- The more evidence there is that the class has mastered the material, the 
more generous the curve will be.

---

## Other policies

- Please refrain from texting or using your computer for anything other than coursework during class.
- You must be in class on a day when you're scheduled to present, there are no make ups for presentations.

---

class: center, middle

# A reproducible data analysis

---

## Let's talk about burritos!

<iframe src="https://giphy.com/embed/6587R2Pda6iFW" width="853" height="480" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p><a href="https://giphy.com/gifs/burrito-6587R2Pda6iFW">via GIPHY</a></p>

---

## Recap: What did we just do?

- Locate a repository on **GitHub**
- Clone and open the project in **RStudio**
- Run the analysis using **R Markdown**
- Edit the analysis to exclude reviews from "Other" reviewers using **R** syntax
- Re-run the analysis using **R Markdown**

---

## Reproducibility checklist

Near-term goals:

- Are the tables and figures reproducible from the code and data?
- Does the code actually do what you think it does?
- In addition to what was done, is it clear **why** it was done? 
(e.g., how were parameter settings chosen?)

Long-term goals:

- Can the code be used for other data?
- Can you extend the code to do other things?

---

## Toolkit

![toolkit](img/toolkit.png)

- Scriptability $\rightarrow$ R
- Literate programming (code, narrative, output in one place) $\rightarrow$ R Markdown
- Version control $\rightarrow$ Git / GitHub

---

class: center, middle

# R and RStudio

---

## What is R/RStudio?

- R is a statistical programming language
- RStudio is a convenient interface for R (an integreated development environment, IDE)

---

## Let's take a tour - R / RStudio

<br><br>

<center>
[DEMO]
</center>

<br><br>

Concepts introduced:

- Console
- Using R as a calculator
- Environment
- Loading and viewing a data frame
- Accessing a variable in a data frame
- R functions

---

## R essentials

A short list (for now):

- Functions are (most often) verbs, followed by what they will be applied to in paramtheses:

```{r eval=FALSE}
do_this(to_this)
do_that(to_this, to_that, with_those)
```

--

- Columns (variables) in data frames are accessed with `$`:

```{r eval=FALSE}
dataframe$var_name
```

--

- Packages are installed with the `install.packages` function and loaded with the `library` function, once per session:

```{r eval=FALSE}
install.packages("package_name")
library(package_name)
```

---

## What is the Tidyverse?

.pull-left[
![](img/tidyverse.png)
]

.pull-right[
<center>
<a href="https://www.tidyverse.org/">tidyverse.org</a>
</center>

- The tidyverse is an opinionated collection of R packages designed for data science. 
- All packages share an underlying philosophy and a common syntax. 
]

---

class: center, middle

# R Markdown

---


## R Markdown

- Fully reproducible reports -- each time you knit the analysis is ran from the beginning
- Simple markdown syntax for text
- Code goes in chunks, defined by three backticks, narrative goes outside of chunks

---

## Let's take a tour -- R Markdown

Before we that...

.question[
What is the Bechdel test?
]

--

The Bechdel test asks whether a work of fiction features at least two women who talk to each other about something other than a man, and there must be two women named characters.

--

<br>

<center>
[DEMO]
</center>

<br>

--

Concepts introduced:

- Forking a project of mine: "Bechdel"
- Knitting documents
- R Markdown and (some) R syntax

---

## R Markdown tips

- Keep the [R Markdown cheat sheet](https://github.com/rstudio/cheatsheets/raw/master/rmarkdown-2.0.pdf) and Markdown Quick Reference (Help -> Markdown Quick Reference) handy, we'll refer to it often as the course progresses
- The workspace of your R Markdown document is separate from the Console

<br><br>

<center>
[DEMO]
</center>

<br><br>

---

## How will we use R Markdown?

- Every assignment / report / project / etc. is an R Markdown document
- You'll always have a template R Markdown document to start with
- The amount of scaffolding in the template will decrease over the semester

---

class: center, middle

# Git and GitHub

---

## How do we collaborate?

- The statistical programming language we'll use is R
- The software we use to interface with R is RStudio
- But how do I get you the course materials that you can build on for your assignments?
    + Hint: I'm not going to email you documents, that would be a mess!
  
---

## Version control

- We introduced GitHub as a platform for collaboration
- But it's much more than that...
- It's actually desiged for version control

---

## Versioning

![Lego versions](img/lego-steps.png)

---

## Versioning

with human readable messages

![Lego versions with commit messages](img/lego-steps-commit-messages.png)

---

## Why do we need version control?

.center[
![PhD Comics](img/phd_comics_vc.gif)
]

---

# Git and GitHub tips

- Git is a version control system -- like “Track Changes” features from Microsoft Word on steroids. GitHub is the home for your Git-based projects on the internet -- like DropBox but much, much better).
--

- There are millions of git commands -- ok, that's an exaggeration, but there are a lot of them -- and very few people know them all. 99% of the time you will use git to add, commit, push, and pull.
--

- We will be doing Git things and interfacing with GitHub through RStudio, but if you google for help you might come accross methods for doing these things in the command line -- skip that and move on to the next resource unless you feel comfortable trying it out.

--
- There is a great resource for working with git and R: [happygitwithr.com](http://happygitwithr.com/). Some of the content in there is beyond the scope of this course, but it's a good place to look for help.

---

## Let's take a tour -- Git / GitHub

<br><br>

.center[
DEMO
]

<br><br>

Concepts introduced:

- Connect an R project to Github repository
- Working with a local and remote repository
- Committing, Pushing and Pulling

There is just a bit more of GitHub that we'll use in this class, but for today this is enough.

---

class: center, middle

# Recap

---

## Recap

Can you answer these questions?

- What is reproducible data analysis, and why do we care?
- What is version control, and why do we care?
- What is R vs RStudio?
- What is git vs GitHub (and do I need to care)?
